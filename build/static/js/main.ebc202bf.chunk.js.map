{"version":3,"sources":["Filter.jsx","PersonForm.jsx","Person.jsx","Persons.jsx","Services/persons.js","App.js","index.js"],"names":["Filter","setSearch","onChange","event","target","value","PersonForm","addName","setNewName","setNewNumber","onSubmit","type","Person","person","remove","name","number","onClick","window","confirm","id","removePerson","Persons","data","map","d","index","URL","axios","get","newData","post","delete","put","App","useState","setData","newName","newNumber","search","success","setSuccess","error","setError","useEffect","personServices","then","response","filteredData","filter","p","toLowerCase","includes","console","log","preventDefault","check","find","dt","catch","errorMessage","document","getElementById","style","border","color","backgroundColor","padding","margin","borderRadius","setTimeout","display","successMessage","message","ReactDOM","render"],"mappings":"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","file":"static/js/main.ebc202bf.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ setSearch }) => {\n    return (\n        <div>\n            filter shown with <input onChange={(event) => setSearch(event.target.value)} />\n        </div>\n    );\n};\n\nexport default Filter;","import React from 'react';\n\nconst PersonForm = ({ addName, setNewName, setNewNumber }) => {\n    return (\n        <form onSubmit={(event) => addName(event)} >\n            <div>\n                name: <input onChange={(event) => setNewName(event.target.value)} />\n            </div>\n            <div>\n                number: <input onChange={(event) => setNewNumber(event.target.value)} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    );\n};\n\nexport default PersonForm;","import React from 'react';\n\nconst Person = ({ person, remove }) => {\n    const removePerson = (person) => {\n        const result = window.confirm(`Delete ${person.name} ?`);\n        if (result) {\n            remove(person.id);\n        }\n    }\n    return (\n        <div>\n            <p>{person.name} - {person.number} <span>\n                <button onClick={() => removePerson(person)} >delete</button>\n            </span>\n            </p>\n        </div >\n    )\n}\n\nexport default Person;","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ data, remove }) => {\n    return (\n        <div>\n            {\n                data.map((d, index) => {\n                    return (\n                        <Person key={index} person={d} remove={remove} ></Person>\n                    )\n                })\n            }\n        </div>\n    )\n}\nexport default Persons","/* eslint-disable import/no-anonymous-default-export */\nimport axios from \"axios\";\n\nconst URL = \"/api\";\n\nconst getAllData = () => {\n    return axios.get(`${URL}/persons`)\n}\n\nconst saveData = (newData) => {\n    return axios.post(`${URL}/persons`, newData)\n}\n\nconst removeData = (id) => {\n    return axios.delete(`${URL}/persons/${id}`)\n}\n\nconst updateData = (id) => {\n    return axios.put(`${URL}/persons/${id}`)\n}\n\n\n\nexport default { getAllData, saveData, removeData, updateData }","import React, { useEffect, useState } from 'react'\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport personServices from './Services/persons'\n\n\nconst App = () => {\n  const [data, setData] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [search, setSearch] = useState('')\n  const [success, setSuccess] = useState('')\n  const [error, setError] = useState('')\n\n  const addName = (event) => {\n    event.preventDefault()\n    const check = data.find(dt => dt.name === newName)\n    if (check) {\n      personServices.updateData(check.id).then((response) => {\n        console.log(response.data);\n      })\n        .catch((error) => {\n          setError(`${check.name} already been removed from server`)\n          const errorMessage = document.getElementById('errorMessage').style;\n          errorMessage.border = '3px solid red';\n          errorMessage.color = 'red';\n          errorMessage.backgroundColor = 'lightgrey';\n          errorMessage.padding = '0px 20px';\n          errorMessage.margin = '10px';\n          errorMessage.borderRadius = '8px';\n          setTimeout(() => {\n            setSuccess('')\n            errorMessage.border = 'none';\n            errorMessage.color = 'none';\n            errorMessage.backgroundColor = 'none';\n            errorMessage.margin = '0px';\n            errorMessage.padding = '0px';\n            errorMessage.borderRadius = '0px';\n            errorMessage.display = 'none';\n          }, 5000)\n        })\n    } else {\n      const newData = { name: newName, number: newNumber };\n      personServices\n        .saveData(newData)\n        .then((response) => {\n          setSuccess(`Added ${response.data.name} successfully`)\n          const successMessage = document.getElementById('successMessage').style;\n          successMessage.border = '3px solid green';\n          successMessage.color = 'green';\n          successMessage.backgroundColor = 'lightgrey';\n          successMessage.padding = '0px 20px';\n          successMessage.margin = '10px';\n          successMessage.borderRadius = '8px';\n          setTimeout(() => {\n            setSuccess('')\n            successMessage.border = 'none';\n            successMessage.color = 'none';\n            successMessage.backgroundColor = 'none';\n            successMessage.margin = '0px';\n            successMessage.padding = '0px';\n            successMessage.borderRadius = '0px';\n          }, 5000)\n\n\n        })\n\n        .catch((error) => {\n          console.log(error.message)\n        })\n    };\n  }\n\n  useEffect(() => {\n    const getAll = () => {\n      personServices.getAllData().then(response => {\n        if (search !== '') {\n          const filteredData = response.data.filter(p => p.name.toLowerCase().includes(search.toLowerCase()));\n          setData(filteredData)\n        } else {\n          setData(response.data)\n          console.log(response.data)\n        }\n      })\n    }\n    getAll()\n  }, [search])\n\n  const remove = (id) => {\n\n    personServices.removeData(id)\n      .then(response => console.log(response.data))\n      .catch(error => console.log(error.message))\n  }\n\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Filter setSearch={setSearch} ></Filter>\n\n      <h3>add a new</h3>\n      <div id=\"successMessage\">\n        <h3>{success}</h3>\n      </div>\n      <div id=\"errorMessage\">\n        <h3>{error}</h3>\n      </div>\n      <PersonForm addName={addName} setNewName={setNewName} setNewNumber={setNewNumber} ></PersonForm>\n\n      <h3>Numbers</h3>\n\n      <Persons data={data} remove={remove}></Persons>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}